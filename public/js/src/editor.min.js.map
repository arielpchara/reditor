{"version":3,"sources":["editor.min.js"],"names":["$","savecode","editor","ajax","url","location","pathname","type","data","content","getValue","done","r","console","log","textarea","CodeMirror","modeURL","fromTextArea","lineNumbers","matchBrackets","autoCloseBrackets","autoCloseTags","extraKeys","Ctrl-S","theme","filepath","getJSON","response","setOption","mimetype","info","findModeByMIME","autoLoadMode","mode","jQuery"],"mappings":"CAAA,SAAWA,GACP,GAAIC,GAAW,SAAUC,GACrBF,EAAEG,MACEC,IAAIC,SAASC,SACbC,KAAK,OACLC,MACIC,QAASP,EAAOQ,cAErBC,KAAK,SAAUC,GACdC,QAAQC,IAAIF,MAGhBG,EAAWf,EAAE,YAAY,EAC7B,IAAIe,EAAU,CACVC,WAAWC,QAAU,+BACrB,IAAIf,GAASc,WAAWE,aAAaH,GACjCI,aAAa,EACbC,eAAe,EACfC,mBAAmB,EAEnBC,eAAe,EACfC,WACIC,SAAUvB,GAEdwB,MAAO,YAGfzB,EAAE,WACO0B,UACD1B,EAAE2B,QAAQ,SAAWD,UAChBf,KAAK,SAASiB,GACX1B,EAAO2B,UAAU,QAASD,EAASnB,SACnCP,EAAO2B,UAAU,OAAQD,EAASE,SAClC,IAAIC,GAAOf,WAAWgB,eAAeJ,EAASE,SAC9Cd,YAAWiB,aAAa/B,EAAQ6B,EAAKG,WAItDC","file":"editor.min.js","sourcesContent":["(function ($) {\r\n    var savecode = function (editor) {\r\n        $.ajax({\r\n            url:location.pathname,\r\n            type:'POST',\r\n            data: {\r\n                content: editor.getValue()\r\n            }\r\n        }).done(function (r) {\r\n            console.log(r);\r\n        });\r\n    };\r\n    var textarea = $('textarea')[0];\r\n    if( textarea ){\r\n        CodeMirror.modeURL = \"/lib/CodeMirror/mode/%N/%N.js\";\r\n        var editor = CodeMirror.fromTextArea(textarea, {\r\n            lineNumbers: true,\r\n            matchBrackets: true,\r\n            autoCloseBrackets: true,\r\n            // matchTags: true,\r\n            autoCloseTags: true,\r\n            extraKeys: {\r\n                'Ctrl-S': savecode\r\n            },\r\n            theme: 'dracula'\r\n        });\r\n    }\r\n    $(function() {\r\n        if ( filepath ) {\r\n            $.getJSON('/read/' + filepath)\r\n                .done(function(response) {\r\n                    editor.setOption(\"value\", response.content);\r\n                    editor.setOption(\"mode\", response.mimetype);\r\n                    var info = CodeMirror.findModeByMIME(response.mimetype);\r\n                    CodeMirror.autoLoadMode(editor, info.mode);\r\n                });\r\n        }\r\n    });\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}