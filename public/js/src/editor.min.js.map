{"version":3,"sources":["editor.min.js"],"names":["$","socket","io","location","host","savecode","editor","emit","filepath","content","getValue","quit","reload","textarea","CodeMirror","modeURL","fromTextArea","lineNumbers","matchBrackets","autoCloseBrackets","autoCloseTags","extraKeys","Ctrl-S","Ctrl-Q","theme","on","data","setOption","mimetype","info","findModeByMIME","autoLoadMode","mode","window","bind","confirm","jQuery"],"mappings":"CAAA,SAAWA,GAEP,GAAIC,GAASC,GAAG,UAAUC,SAASC,MAG/BC,EAAW,SAAUC,GACrBL,EAAOM,KAAK,SACJC,SAAUA,SACVC,QAASH,EAAOI,cAIxBC,EAAO,WACTV,EAAOM,KAAK,QACZJ,SAASS,UAGPC,EAAWb,EAAE,YAAY,EAC7B,IAAIa,EAAU,CACVC,WAAWC,QAAU,+BACrB,IAAIT,GAASQ,WAAWE,aAAaH,GACjCI,aAAa,EACbC,eAAe,EACfC,mBAAmB,EAEnBC,eAAe,EACfC,WACIC,SAAUjB,EACVkB,SAAUZ,GAEda,MAAO,YAIfxB,EAAE,WACOQ,WACDP,EAAOwB,GAAG,OAAQ,SAAUC,GAE1B,GADApB,EAAOqB,UAAU,QAASD,EAAKjB,SAC3BiB,EAAKE,SAAU,CACjBtB,EAAOqB,UAAU,OAAQD,EAAKE,SAC9B,IAAIC,GAAOf,WAAWgB,eAAeJ,EAAKE,SAC1Cd,YAAWiB,aAAazB,EAAQuB,EAAKG,SAGzC/B,EAAOM,KAAK,QAAQC,SAASA,YAIjCR,EAAEiC,QAAQC,KAAK,eAAe,WACxBC,QAAQ,uCACVlC,EAAOM,KAAK,aAIrB6B","file":"editor.min.js","sourcesContent":["(function ($) {\n\n    var socket = io('http://'+location.host);\n\n\n    var savecode = function (editor) {\n        socket.emit('write', {\n                filepath: filepath,\n                content: editor.getValue()\n            });\n    };\n\n    var quit = function () {\n      socket.emit('exit');\n      location.reload();\n    }\n\n    var textarea = $('textarea')[0];\n    if( textarea ){\n        CodeMirror.modeURL = \"/lib/CodeMirror/mode/%N/%N.js\";\n        var editor = CodeMirror.fromTextArea(textarea, {\n            lineNumbers: true,\n            matchBrackets: true,\n            autoCloseBrackets: true,\n            // matchTags: true,\n            autoCloseTags: true,\n            extraKeys: {\n                'Ctrl-S': savecode,\n                'Ctrl-Q': quit,\n            },\n            theme: 'dracula'\n        });\n    }\n\n    $(function() {\n        if ( filepath ) {\n            socket.on('file', function (data) {\n              editor.setOption(\"value\", data.content);\n              if( data.mimetype ){\n                editor.setOption(\"mode\", data.mimetype);\n                var info = CodeMirror.findModeByMIME(data.mimetype);\n                CodeMirror.autoLoadMode(editor, info.mode);\n              }\n            });\n            socket.emit('file',{filepath:filepath});\n            // editor.on('change', savecode);\n        }\n\n        $(window).bind(\"beforeunload\",function() {\n          if( confirm(\"Proccess on the server will close!\") ){\n            socket.emit('exit');\n          }\n        });\n    });\n})(jQuery);\n"],"sourceRoot":"/source/"}